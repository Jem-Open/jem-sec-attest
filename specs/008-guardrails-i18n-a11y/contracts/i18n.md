# Contract: Internationalization

No new API endpoints. i18n is handled entirely client-side with JSON locale files.

## Internal Contract: Translation System

```typescript
// Client-side hook
function useTranslation(): {
  t: (key: string, params?: Record<string, string | number>) => string;
  locale: string;
  setLocale: (locale: string) => void;
};

// Server-side function
function getTranslation(
  locale: string,
): Promise<(key: string, params?: Record<string, string | number>) => string>;
```

## Locale File Structure

```
src/i18n/
  index.ts          # exports useTranslation, getTranslation
  locales/
    en.json         # canonical, all keys defined
    fr.json         # sample locale, partial OK (falls back to en)
```

## Key Namespace Convention

```
auth.*              # Sign-in, sign-out pages
dashboard.*         # Dashboard page
training.*          # Training flow (largest namespace)
  training.module.*
  training.quiz.*
  training.scenario.*
  training.evaluation.*
common.*            # Shared strings (loading, errors, buttons)
```

## Interpolation

```json
{ "training.module.title": "Module {number}: {title}" }
```

Usage: `t("training.module.title", { number: 1, title: "Phishing" })` â†’ `"Module 1: Phishing"`

## Locale Resolution

1. Check cookie `locale` value
2. If not set, check `navigator.language` / `Accept-Language` header
3. If no match, default to `en`

## Dynamic `lang` Attribute

`app/layout.tsx` must set `<html lang={locale}>` dynamically based on resolved locale.
